(window["webpackJsonpshift-plan-auto-generator"]=window["webpackJsonpshift-plan-auto-generator"]||[]).push([[0],[,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(9),i=a.n(l),r=(a(15),a(6)),s=a(1),f=a(2),h=a(4),c=a(3),u=a(5),y=(a(16),{1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d",0:"\u65e5",7:"\u65e5"}),d={MG:"\u5e97",FT:"\u6b63",PT:"\u517c"},m={MoringShift:"1",NightShift:"2",NightShiftOvertime:"2+",FullDay:"\u5168",DayOff:"X"},D=4,O=function(){function e(t){var a=this,n=t.uniqueId,o=t.index,l=t.name,i=t.role,r=t.maxShiftSeq,f=void 0===r?D:r;Object(s.a)(this,e),Object.assign(this,{uniqueId:n,index:o,name:l,role:i,maxShiftSeq:f}),this.shiftSeq=0,this.shifts=[],this.shiftTypeCount={},Object.values(m).forEach((function(e){a.shiftTypeCount[e]=0})),i===d.MG&&(this.shiftTypeCount[m.FullDay]=Number.MAX_VALUE,this.shiftTypeCount[m.NightShiftOvertime]=Number.MAX_VALUE)}return Object(f.a)(e,[{key:"setPlanDayOffDates",value:function(e){this.planDayOffDates=e}},{key:"isCandidate",value:function(e){return!(this.shiftSeq>=this.maxSeqShift||-1!==this.planDayOffDates.indexOf(e))}},{key:"setShift",value:function(e,t){t===m.DayOff?this.shiftSeq=0:this.shiftSeq+=1,this.shifts.push(t),this.shiftTypeCount[t]+=1}}]),e}(),p=function(){function e(t,a,n){Object(s.a)(this,e),this._isNextWeekDayOffCountGreaterThan2=function(e,t){return e.slice(t+7,t+14).filter((function(e){return e===m.DayOff})).length>=2},Object.assign(this,{monthModel:t,origDayOffTable:a,autoDayOffTable:n}),this.rows=n.length,this.cols=n[0].length}return Object(f.a)(e,[{key:"_dateToColIndex",value:function(e){return e+this.monthModel.lastMonthLastWeekDays}},{key:"getAutoDayOffTable",value:function(){return this._preAddDayOff(this.autoDayOffTable,this.monthModel),this._planAllDayOff(this.autoDayOffTable,this.monthModel),this.autoDayOffTable}},{key:"_preAddDayOff",value:function(e,t){for(var a=1===t.beginDay?1:7-t.beginDay+1+1,n=t.days+t.nextMonthFirstWeekDays,o=a;o<=n;o+=7)this._preAddDayOffForWeek(e,t,o)}},{key:"_preAddDayOffForWeek",value:function(e,t,a){for(var n=0;n<e.length-1;n+=1){for(var o=0,l=0;l<3;l+=1)e[n][this._dateToColIndex(a+l)]===m.DayOff&&(o+=1);o>=2&&a+7<=1+t.lastMonthLastWeekDays+t.days+t.nextMonthFirstWeekDays&&this._setTableCellShift(e,n,a+7,m.DayOff),o=0;for(var i=4;i<7;i+=1)e[n][this._dateToColIndex(a+i)]===m.DayOff&&(o+=1);o>=2&&a-1>0&&this._setTableCellShift(e,n,a-1,m.DayOff)}}},{key:"_planAllDayOff",value:function(e,t){for(var a=this,n=[],o=1===t.beginDay?1:7-t.beginDay+1+1,l=t.days+t.nextMonthFirstWeekDays,i=function(o){var l=e.filter((function(e){return e[e.length-1]===d.FT&&!a._isThisWeekDayOffCountGreaterEqualThan2(e,o)}));for(a._populatePlanJobQueue(n,o,l);0!==n.length;)a._processPlanJob(e,t,n.pop());var i=e.filter((function(e){return e[e.length-1]===d.PT&&!a._isThisWeekDayOffCountGreaterEqualThan2(e,o)}));for(a._populatePlanJobQueue(n,o,i);0!==n.length;)a._processPlanJob(e,t,n.pop());a._preAddDayOffForWeek(e,t,o),a._processPlanJob(e,t,{row:e.find((function(e){return e[e.length-1]===d.MG})),firstDateOfThisWeek:o})},r=o;r<=l;r+=7)i(r)}},{key:"_populatePlanJobQueue",value:function(e,t,a){var n=this;a.filter((function(e){return n._isNextWeekDayOffCountGreaterThan2(e,t)&&1===n._getThisWeekDayOffCount(e,t)})).forEach((function(a){e.unshift({row:a,firstDateOfThisWeek:t})})),a.filter((function(e){return n._isNextWeekDayOffCountGreaterThan2(e,t)&&0===n._getThisWeekDayOffCount(e,t)})).forEach((function(a){e.unshift({row:a,firstDateOfThisWeek:t})})),a.filter((function(e){return!n._isNextWeekDayOffCountGreaterThan2(e,t)&&1===n._getThisWeekDayOffCount(e,t)})).forEach((function(a){e.unshift({row:a,firstDateOfThisWeek:t})})),a.filter((function(e){return!n._isNextWeekDayOffCountGreaterThan2(e,t)&&0===n._getThisWeekDayOffCount(e,t)})).forEach((function(a){e.unshift({row:a,firstDateOfThisWeek:t})}))}},{key:"_isThisWeekDayOffCountGreaterEqualThan2",value:function(e,t){return e.slice(this._dateToColIndex(t),this._dateToColIndex(t+7)).filter((function(e){return e===m.DayOff})).length>=2}},{key:"_processPlanJob",value:function(e,t,a){if(a.row[this.cols-1]===d.MG)for(var n=a.firstDateOfThisWeek;n<a.firstDateOfThisWeek+7;n+=1)e[this.rows-1][this._dateToColIndex(n)]<2&&this._setTableCellShift(e,a.row,n,m.DayOff);else this._planRowDayOff(e,t,a.row,a.firstDateOfThisWeek)}},{key:"_planRowDayOff",value:function(e,t,a,n){var o=this._getThisWeekShifts(a,n),l=o.filter((function(e){return e===m.DayOff})).length;if(1===l)this._signTheOtherDayOffThisWeekWhenThisWeekIsSignOneDayOffAlready(e,n,o,a);else if(0===l){var i=this._getLastWeekLastDayOffDate(a,n),r=[],s=[];t.getDay(i)===y[7]?(r=[n+2,n+3,n+4],s=[n]):r=t.getDay(i)===y[6]?[n+1,n+2,n+3]:t.getDay(i)===y[5]?[n,n+1,n+2]:[n,n+1];var f=this._getLeastDayOffCountDate(e,r,s);this._setTableCellShift(e,a,f,m.DayOff),this._signTheOtherDayOffThisWeekWhenThisWeekIsSignOneDayOffAlready(e,n,this._getThisWeekShifts(a,n),a)}}},{key:"_getThisWeekShifts",value:function(e,t){return e.slice(this._dateToColIndex(t),this._dateToColIndex(t+7))}},{key:"_signTheOtherDayOffThisWeekWhenThisWeekIsSignOneDayOffAlready",value:function(e,t,a,n){var o,l=t+a.indexOf(m.DayOff),i=this._getLastWeekLastDayOffDate(n,t),r=l-i-1,s=this._getNextWeekFirstDayOffDate(n,t);if(this._isNextWeekDayOffCountGreaterThan2(n,t)){var f=s-i-1;o=r>=f?r<=D?l-1:r%2===0?this._getLeastDayOffCountDate(e,[l-r/2,l-(r/2+1)],[l-1]):l-(r/2+r%2):f<=D?l+1:f%2===0?this._getLeastDayOffCountDate(e,[l+f/2,l+(f/2+1)],[l+1]):l+(f/2+f%2)}else{var h=this.monthModel.getDay(l),c=[],u=[];if(h===y[1])c=[l+3,l+4],void 0!==s&&this.monthModel.getDay(s)===y[1]||c.push(l+5),void 0!==s&&this.monthModel.getDay(s)===y[2]||(u=[l+6]),u.push(l+1);else if(h===y[2])r>D?c=[l-1]:(c=[l+3],void 0===s?c.push(l+4,l+5):(this.monthModel.getDay(s)!==y[1]&&c.push(l+4),this.monthModel.getDay(s)!==y[2]&&c.push(l+5)),u=[l+1],1!==r&&u.push(l-1));else if(h===y[3])r>D?c=[l-1]:(void 0===s?c.push(l+3,l+4):(this.monthModel.getDay(s)!==y[1]&&c.push(l+3),this.monthModel.getDay(s)!==y[2]&&c.push(l+4)),u=[l+1]);else if(h===y[4])r>D?c=[l-3]:void 0===s||this.monthModel.getDay(s)!==y[1]&&this.monthModel.getDay(s)!==y[2]?(c=[l+3],u=[l-1,l+1]):c=[l-1,l+1];else if(h===y[5]){var d=this.monthModel.getDay(i);d===y[7]?c=[l-1,l-4]:d===y[6]?(c=[l-3],u=[l-1]):d===y[5]?c=[l-3,l-4]:(c=[l-4],u=[l-3])}else if(h===y[6]){var O=this.monthModel.getDay(i);O===y[7]?(c=[l-3],u=[l-1,l-5]):c=O===y[6]?[l-3,l-4]:[l-3,l-4,l-5]}else{var p=this.monthModel.getDay(i);p===y[7]?(c=[l-3,l-4],u=[l-1,l-6]):p===y[6]?c=[l-3,l-4,l-5]:p===y[5]?(c=[l-4,l-5],u=[l-3,l-6]):(c=[l-5],u=[l-4,l-6])}o=this._getLeastDayOffCountDate(e,c,u),console.assert(e[this.rows-1][this._dateToColIndex(o)]<=1)}this._setTableCellShift(e,n,o,m.DayOff)}},{key:"_getThisWeekDayOffCount",value:function(e,t){return e.slice(this._dateToColIndex(t),this._dateToColIndex(t+7)).filter((function(e){return e===m.DayOff})).length}},{key:"_getNextWeekFirstDayOffDate",value:function(e,t){return e.slice(this._dateToColIndex(t+7),this._dateToColIndex(t+14)).find((function(e){return e===m.DayOff}))}},{key:"_getLastWeekLastDayOffDate",value:function(e,t){return t-1-e.slice(this._dateToColIndex(t-7),this._dateToColIndex(t)).reverse().indexOf(m.DayOff)}},{key:"_setTableCellShift",value:function(e,t,a,n){var o=this._dateToColIndex(a);t[o]!==n&&(t[o]!==m.DayOff&&n===m.DayOff?e[this.rows-1][o]+=1:t[o]===m.DayOff&&n!==m.DayOff&&(e[this.rows-1][o]-=1),t[o]=n)}},{key:"_getLeastDayOffCountDate",value:function(e,t,a){var n=this;if(t&&1===t.length&&e[this.rows-1][this._dateToColIndex(t[0])<2])return t[0];var o=Number.MAX_VALUE,l=[];return t.forEach((function(t){e[n.rows-1][n._dateToColIndex(t)]<o?(l=[t],o=e[n.rows-1][n._dateToColIndex(t)]):e[n.rows-1][n._dateToColIndex(t)]===o&&l.push(t)})),o>=2&&a.forEach((function(t){e[n.rows-1][n._dateToColIndex(t)]<o?(l=[t],o=e[n.rows-1][n._dateToColIndex(t)]):e[n.rows-1][n._dateToColIndex(t)]===o&&l.push(t)})),console.assert(o<=2),l[Math.floor(Math.random()*l.length)]}}]),e}(),g=function(){function e(t){var a=t.year,n=t.month,o=t.holidayOffDates,l=void 0===o?[]:o;Object(s.a)(this,e),this.dateObj=new Date(a,n),this.beginDay=this.dateObj.getDay(),this.days=new Date(a,n+1,0).getDate(),this.lastMonthDays=new Date(a,n,0).getDate(),this.holidayOffDates=l,this.nextMonthFirstWeekDays=this.getNextMonthFirstWeekDays(),this.lastMonthLastWeekDays=this.getLastMonthLastWeekDays()}return Object(f.a)(e,[{key:"getShifts",value:function(e){return this.isWeekend(e)||-1!==this.holidayOffDates.indexOf(e)?[m.FullDay,m.NightShiftOvertime,m.MoringShift,m.NightShift]:[m.NightShiftOvertime,m.MoringShift,m.MoringShift,m.NightShift]}},{key:"isWeekend",value:function(e){var t=(this.beginDay+e-1)%7;return 0===t||6===t}},{key:"getDay",value:function(e){var t=(this.beginDay+e-1)%7;return y[t]}},{key:"getNextMonthFirstWeekDays",value:function(){return 7-(this.beginDay+this.days-1)%7}},{key:"getLastMonthLastWeekDays",value:function(){return this.beginDay-1}}]),e}(),b=(a(17),function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.employeeModels,a=e.roleOptions,n=e.handleAddEmployeeBtnClick,l=e.handleEmployeeChange,i=e.handleDeleteEmployeeBtnClick,r=a.map((function(e){return o.a.createElement("option",{key:e},e)})),s=t.map((function(e){return o.a.createElement("div",{className:"employee-flex-item",key:e.uniqueId},o.a.createElement("input",{value:e.name,name:"name","data-unique-id":e.uniqueId,onChange:l}),o.a.createElement("select",{value:e.role,name:"role","data-unique-id":e.uniqueId,onChange:l},r),o.a.createElement("button",{type:"button","data-unique-id":e.uniqueId,onClick:i},"\u522a\u9664"))}));return o.a.createElement("div",{className:"employee-container flex-container-column"},o.a.createElement("h3",{className:"flex-item-origin-size"},"\u54e1\u5de5\u8cc7\u6599"),o.a.createElement("button",{className:"flex-item-origin-size add-employee-btn",type:"button",onClick:n},"\u65b0\u589e\u54e1\u5de5\u8cc7\u6599"),o.a.createElement("div",{className:"employee-flex-container flex-item-expand-1"},s))}}]),t}(n.PureComponent)),v=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.yearOptions,a=e.selectedYear,n=e.selectedMonth,l=e.handleYearSelectChange,i=e.handleMonthSelectChange,r=t.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})),s=[0,1,2,3,4,5,6,7,8,9,10,11].map((function(e){return o.a.createElement("option",{key:e,value:e},e+1)}));return o.a.createElement("div",null,o.a.createElement("h3",null,"\u8a08\u756b\u6392\u73ed\u6708\u4efd"),o.a.createElement("select",{value:a,onChange:l},r),o.a.createElement("select",{value:n,onChange:i},s))}}]),t}(o.a.PureComponent),k=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.monthData,t=[];t.push(o.a.createElement("th",{key:"pre padding"}));for(var a=1+e.lastMonthDays-e.lastMonthLastWeekDays;a<=e.lastMonthDays;a+=1)t.push(o.a.createElement("th",{key:"last".concat(a),className:"last-month"},a));for(var n=1;n<=e.days;n+=1)t.push(o.a.createElement("th",{key:"this".concat(n),className:"this-month"},n));for(var l=1;l<=e.nextMonthFirstWeekDays;l+=1)t.push(o.a.createElement("th",{key:"next".concat(l),className:"next-month"},l));return o.a.createElement("tr",{className:"date-row"},t)}}]),t}(n.PureComponent),T=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.monthData,t=[];t.push(o.a.createElement("th",{key:"pre padding"}));for(var a=1+e.lastMonthDays-e.lastMonthLastWeekDays;a<=e.lastMonthDays;a+=1){var n=e.getDay(a-e.lastMonthDays);t.push(o.a.createElement("th",{key:"last".concat(a," ").concat(n),className:"last-month"},n))}for(var l=1;l<=e.days;l+=1){var i=e.getDay(l);t.push(o.a.createElement("th",{key:"this".concat(l," ").concat(i),className:"this-month"},i))}for(var r=1;r<=e.nextMonthFirstWeekDays;r+=1){var s=e.getDay(e.days+r);t.push(o.a.createElement("th",{key:"next".concat(r," ").concat(s),className:"next-month"},s))}return o.a.createElement("tr",{className:"day-row"},t)}}]),t}(n.PureComponent);a(8);function E(e){var t=e.monthModel,a=e.employeeModels,n=e.dayOffTable,l=e.dayOffTableCellClick,i=1+t.lastMonthLastWeekDays+t.days+t.nextMonthFirstWeekDays+1,r=t.dateObj.toLocaleString("default",{month:"long"}),s=new Date(t.dateObj);s.setMonth(t.dateObj.getMonth()-1);var f=s.toLocaleString("default",{month:"long"}),h=a.map((function(e,t){for(var a=[],r=function(e){var i=n[t][e]===m.DayOff?"buttonCell orig-day-off":"buttonCell";a.push(o.a.createElement("td",{key:e,className:i},o.a.createElement("button",{type:"button",onClick:function(){l(t,e)}},n[t][e])))},s=1;s<=i-2;s+=1)r(s);return o.a.createElement("tr",{key:e.uniqueId},o.a.createElement("td",{key:"name"},e.name),a,o.a.createElement("td",{key:"role"},e.role))}));return o.a.createElement("table",{className:"roster-table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:i},"".concat(r,"\u6392\u4f11"))),o.a.createElement(k,{monthData:t}),o.a.createElement(T,{monthData:t})),o.a.createElement("tbody",null,h),o.a.createElement("tfoot",null,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:i},"\u8acb\u586b\u4e0a".concat(f,"\u6700\u5f8c\u4e00\u5468\u7684\u4f11\u5047\uff0c\u4ee5\u53ca").concat(r,"\u7684\u5283\u4f11")))))}var C=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.monthModel,a=e.employeeModels,n=e.origDayOffTable,l=e.autoDayOffTable;if(!l)return null;var i=1+t.lastMonthLastWeekDays+t.days+t.nextMonthFirstWeekDays+1,r=t.dateObj.toLocaleString("default",{month:"long"}),s=new Date(t.dateObj);s.setMonth(t.dateObj.getMonth()-1);var f=s.toLocaleString("default",{month:"long"}),h=a.map((function(e,t){for(var a=[],r=1;r<=i-2;r+=1)n[t][r]===m.DayOff?a.push(o.a.createElement("td",{key:r,className:"table-data orig-day-off"},l[t][r])):a.push(o.a.createElement("td",{key:r,className:"table-data"},l[t][r]));return o.a.createElement("tr",{key:e.uniqueId},o.a.createElement("td",{key:"name"},e.name),a,o.a.createElement("td",{key:"role"},e.role))})),c=[];c.push(o.a.createElement("td",{key:"pre padding"}));for(var u=1;u<=i-2;u+=1)l[a.length][u]>2?c.push(o.a.createElement("td",{key:u,className:"error"},l[a.length][u])):c.push(o.a.createElement("td",{key:u},l[a.length][u]));return h.push(o.a.createElement("tr",{key:(new Date).getTime()},c)),o.a.createElement("table",{className:"roster-table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:i},"".concat(r,"\u6392\u4f11"))),o.a.createElement(k,{monthData:t}),o.a.createElement(T,{monthData:t})),o.a.createElement("tbody",null,h),o.a.createElement("tfoot",null,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:i},"\u8acb\u586b\u4e0a".concat(f,"\u6700\u5f8c\u4e00\u5468\u7684\u4f11\u5047\uff0c\u4ee5\u53ca").concat(r,"\u7684\u5283\u4f11")))))}}]),t}(n.PureComponent),M=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(h.a)(this,Object(c.a)(t).call(this,e))).initialDayOffTable=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.length+1,l=a.getDayOffTableCols(e,n),i=Array.from(Array(o),(function(){return Array(l).fill("")})),r=e.lastMonthLastWeekDays+e.days+e.nextMonthFirstWeekDays,s=1;s<=r;s+=1)i[o-1][s]=0;return t.forEach((function(e){i[e.index][0]=e.name,i[e.index][l-1]=e.role})),i},a.getDayOffTableCols=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 1+e.lastMonthLastWeekDays+e.days+e.nextMonthFirstWeekDays+1+(t?Object.keys(m).length:0)},a.addEmpToDayOffTable=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=[].concat(Object(r.a)(e.slice(0,e.length-1)),[Array(a.getDayOffTableCols(n,o)).fill("")],Object(r.a)(e.slice(e.length-1)));return l[l.length-2][0]=t.name,l},a.editEmpToDayOffTable=function(e,t,a){var n=Object(r.a)(e);return n[t][0]=a.name,n[t][n[t].length-1]=a.role,n},a.deleteEmpToDayOffTable=function(e,t){return e.filter((function(e,a){return a!==t}))},a.handleYearSelectChange=function(e){var t=e.target.value;a.setState((function(e){var n=new g({year:t,month:e.selectedMonth}),o=a.initialDayOffTable(n,e.employeeModels);return{selectedYear:t,monthModel:n,origDayOffTable:o,autoDayOffTable:null}}))},a.handleMonthSelectChange=function(e){var t=e.target.value;a.setState((function(e){var n=new g({year:e.selectedYear,month:t}),o=a.initialDayOffTable(n,e.employeeModels);return{selectedMonth:t,monthModel:n,origDayOffTable:o,autoDayOffTable:null}}))},a.handleAddEmployeeBtnClick=function(){a.setState((function(e){var t=e.employeeIndexCounter,n=e.employeeModels,o=e.origDayOffTable,l=e.monthModel,i=0===n.length?d.MG:d.FT,s=new O({uniqueId:t,index:n.length,name:"\u59d3\u540d".concat(t),role:i}),f=a.addEmpToDayOffTable(o,s,l);return{employeeModels:[].concat(Object(r.a)(n),[s]),employeeIndexCounter:t+1,origDayOffTable:f,autoDayOffTable:null}}))},a.handleEmployeeChange=function(e){var t=e.target,n=t.name,o=t.value,l=Number(e.target.dataset.uniqueId);a.setState((function(e){var t=e.employeeModels,i=e.origDayOffTable,s=Object(r.a)(t),f=s.findIndex((function(e){return e.uniqueId===l}));return s[f][n]=o,{employeeModels:s,origDayOffTable:a.editEmpToDayOffTable(i,f,s[f]),autoDayOffTable:null}}))},a.handleDeleteEmployeeBtnClick=function(e){var t=Number(e.target.dataset.uniqueId);a.setState((function(e){var n=e.employeeModels,o=e.origDayOffTable,l=n.filter((function(e){return e.uniqueId!==t})),i=n.findIndex((function(e){return e.uniqueId===t}));return{employeeModels:l,origDayOffTable:a.deleteEmpToDayOffTable(o,i),autoDayOffTable:null}}))},a.dayOffTableCellClick=function(e,t){a.setState((function(a){var n=Object(r.a)(a.origDayOffTable);return n[e][t]=n[e][t]===m.DayOff?"":m.DayOff,{origDayOffTable:n,autoDayOffTable:null}}))},a.handleGoToStep3Click=function(){a.setState((function(e){var t=e.monthModel,n=e.employeeModels,o=e.origDayOffTable;return{autoDayOffTable:a.getAutoDayOffTable(t,n,o)}}))},a.getAutoDayOffTable=function(e,t,n){var o=a.initialDayOffTable(e,t,!0);return n.forEach((function(e,t){e.forEach((function(e,a){n[t][a]===m.DayOff&&(o[t][a]=m.DayOff)}))})),new p(e,n,o).getAutoDayOffTable()};var n=new Date,o=(a.thisMonth+1)%12,l=n.getFullYear(),i=0===o?l+1:l,f=(n.getMonth()+1)%12,u=new g({year:i,month:f});return a.yearOptions=[l,l+1],a.roleOptions=Object.values(d),a.state={selectedYear:i,selectedMonth:f,monthModel:u,employeeModels:[],employeeIndexCounter:0,origDayOffTable:a.initialDayOffTable(u,[]),autoDayOffTable:null},a}return Object(u.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.yearOptions,t=this.roleOptions,a=this.handleAddEmployeeBtnClick,n=this.handleEmployeeChange,l=this.handleDeleteEmployeeBtnClick,i=this.handleYearSelectChange,r=this.handleMonthSelectChange,s=this.dayOffTableCellClick,f=this.state,h=f.selectedYear,c=f.selectedMonth,u=f.employeeModels,y=f.monthModel,d=f.origDayOffTable,m=f.autoDayOffTable,D={employeeModels:u,roleOptions:t,handleAddEmployeeBtnClick:a,handleEmployeeChange:n,handleDeleteEmployeeBtnClick:l};return o.a.createElement("div",{className:"app"},o.a.createElement("div",{id:"step1",className:"step"},o.a.createElement("h2",{className:"step-header"},"1. \u8cc7\u6599\u586b\u5beb"),o.a.createElement("div",{className:"step-body flex-container-column"},o.a.createElement("div",{className:"flex-item-origin-size"},o.a.createElement(v,{yearOptions:e,selectedYear:h,selectedMonth:c,handleYearSelectChange:i,handleMonthSelectChange:r})),o.a.createElement("div",{className:"flex-item-expand-1"},o.a.createElement(b,D))),o.a.createElement("div",{className:"step-footer"},o.a.createElement("a",{href:"#step2",className:"next-step"},"\u4e0b\u4e00\u6b65"))),o.a.createElement("div",{id:"step2",className:"step"},o.a.createElement("h2",{className:"step-header"},"2. \u756b\u4f11"),o.a.createElement("div",{className:"step-body"},o.a.createElement(E,{monthModel:y,employeeModels:u,dayOffTable:d,dayOffTableCellClick:s})),o.a.createElement("div",{className:"step-footer float-right"},o.a.createElement("a",{href:"#step3",className:"next-step",onClick:this.handleGoToStep3Click},"\u4e0b\u4e00\u6b65"),o.a.createElement("a",{href:"#step1",className:"last-step"},"\u4e0a\u4e00\u6b65"))),o.a.createElement("div",{id:"step3",className:"step"},o.a.createElement("h2",{className:"step-header"},"3. \u81ea\u52d5\u6392\u4f11"),o.a.createElement("div",{className:"step-body"},o.a.createElement(C,{monthModel:y,employeeModels:u,origDayOffTable:d,autoDayOffTable:m})),o.a.createElement("div",{className:"step-footer float-right"},o.a.createElement("a",{href:"#step2",className:"last-step"},"\u4e0a\u4e00\u6b65"))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.607ae918.chunk.js.map